# Worklog - NgÃ y 18/07/2025

## ğŸ“… ThÃ´ng tin cÆ¡ báº£n

- **NgÃ y**: 18/07/2025
- **Thá»©**: Thá»© SÃ¡u
- **Tuáº§n thá»±c táº­p**: Tuáº§n thá»© 10
- **Thá»i gian lÃ m viá»‡c**: 13:00 - 17:00
- **Mood**: ğŸ˜ ÄÃ£ giáº£i quyáº¿t Ä‘Æ°á»£c má»™t lá»—i, nhÆ°ng dá»¯ liá»‡u váº«n chÆ°a Ä‘áº¿n OpenSearch, cáº§n tÃ¬m hiá»ƒu thÃªm

## ğŸ¯ Má»¥c tiÃªu ngÃ y hÃ´m nay

- [x]  Má»¥c tiÃªu 1: Tiáº¿p tá»¥c debug vÃ  giáº£i quyáº¿t váº¥n Ä‘á» OpenSearch khÃ´ng nháº­n Ä‘Æ°á»£c dá»¯ liá»‡u tá»« Firehose
- [ ]  Má»¥c tiÃªu 2: Kiá»ƒm tra xem dá»¯ liá»‡u cÃ³ Ä‘áº¿n Ä‘Ã­ch nhÆ° dá»± Ä‘á»‹nh khÃ´ng (sáº½ thá»±c hiá»‡n sau khi dá»¯ liá»‡u Ä‘Æ°á»£c ingested)

## ğŸ’¼ CÃ´ng viá»‡c Ä‘Ã£ thá»±c hiá»‡n

### 1. Debug vÃ  giáº£i quyáº¿t váº¥n Ä‘á» OpenSearch khÃ´ng nháº­n Ä‘Æ°á»£c dá»¯ liá»‡u tá»« Firehose â±ï¸ 13:00 - 17:00

- **MÃ´ táº£**:
    - Tiáº¿p tá»¥c rÃ  soÃ¡t CloudWatch Logs cá»§a Firehose Stream: Váº«n tháº¥y lá»—i á»Ÿ Ä‘Ã­ch Ä‘áº¿n (Destination errors).
    - Thá»±c hiá»‡n mapping quyá»n cho IAM Role cá»§a Firehose trong Fine-grained access control (FGAC) cá»§a OpenSearch Dashboard:
        - ÄÄƒng nháº­p vÃ o OpenSearch Dashboard qua Bastion Host
        - Äiá»u hÆ°á»›ng Ä‘áº¿n Security -> Role mappings
        - Mapping IAM Role cá»§a Kinesis Firehose
    - Kiá»ƒm tra láº¡i Firehose CloudWatch metrics: Sau khi mapping quyá»n, Firehose CloudWatch metrics Ä‘Ã£ háº¿t bÃ¡o lá»—i á»Ÿ Ä‘Ã­ch Ä‘áº¿n ("Destination delivery errors"). Äiá»u nÃ y cho tháº¥y váº¥n Ä‘á» vá» quyá»n truy cáº­p tá»« Firehose Ä‘áº¿n OpenSearch Ä‘Ã£ Ä‘Æ°á»£c giáº£i quyáº¿t á»Ÿ cáº¥p Ä‘á»™ OpenSearch FGAC.
    - Gá»­i dá»¯ liá»‡u thá»­ nghiá»‡m: Gá»­i láº¡i cÃ¡c báº£n ghi máº«u vÃ o Firehose Stream
    - Kiá»ƒm tra OpenSearch Dashboard: Dá»¯ liá»‡u váº«n chÆ°a xuáº¥t hiá»‡n trong OpenSearch Dashboard. Máº·c dÃ¹ lá»—i á»Ÿ Firehose Ä‘Ã£ biáº¿n máº¥t, OpenSearch váº«n khÃ´ng hiá»ƒn thá»‹ báº£n ghi má»›i nÃ o
- **Káº¿t quáº£**: Váº¥n Ä‘á» "Destination delivery errors" trong Firehose Ä‘Ã£ Ä‘Æ°á»£c kháº¯c phá»¥c. Tuy nhiÃªn, dá»¯ liá»‡u váº«n chÆ°a Ä‘Æ°á»£c ingested vÃ o OpenSearch, cho tháº¥y cÃ³ thá»ƒ cÃ²n má»™t nguyÃªn nhÃ¢n khÃ¡c
- **Tools/Tech**:
    - AWS Kinesis Firehose
    - AWS OpenSearch Dashboard
- **Links**: [GitHub commits, documentation, screenshots]

## ğŸ“š Kiáº¿n thá»©c há»c Ä‘Æ°á»£c

### ğŸ”§ Technical Skills

- **AWS Services**: Náº¯m vá»¯ng hÆ¡n vá» cÆ¡ cháº¿ Fine-grained access control (FGAC) trong Amazon OpenSearch Service vÃ  táº§m quan trá»ng cá»§a viá»‡c mapping IAM Roles vá»›i cÃ¡c vai trÃ² ná»™i bá»™ cá»§a OpenSearch Ä‘á»ƒ cáº¥p quyá»n truy cáº­p dá»¯ liá»‡u. Cáº£i thiá»‡n ká»¹ nÄƒng Ä‘á»c vÃ  phÃ¢n tÃ­ch CloudWatch Logs Ä‘á»ƒ xÃ¡c Ä‘á»‹nh tráº¡ng thÃ¡i giao tiáº¿p giá»¯a cÃ¡c dá»‹ch vá»¥.
- **DevOps**: Thá»±c hÃ nh ká»¹ nÄƒng End-to-end troubleshooting trong má»™t pipeline dá»¯ liá»‡u, Ä‘áº·c biá»‡t khi váº¥n Ä‘á» chuyá»ƒn tá»« lá»›p máº¡ng/quyá»n sang lá»›p dá»¯ liá»‡u/cáº¥u trÃºc.
- **Architecture**: Hiá»ƒu sÃ¢u hÆ¡n vá» cÃ¡c lá»›p báº£o máº­t vÃ  cÃ¡ch chÃºng áº£nh hÆ°á»Ÿng Ä‘áº¿n luá»“ng dá»¯ liá»‡u giá»¯a cÃ¡c dá»‹ch vá»¥.

### ğŸ’¡ Concepts & Theory

- **New Concepts**:
    - Vai trÃ² cá»¥ thá»ƒ cá»§a Role mapping trong OpenSearch FGAC Ä‘á»ƒ cho phÃ©p cÃ¡c dá»‹ch vá»¥ AWS ghi dá»¯ liá»‡u.
    - Sá»± khÃ¡c biá»‡t giá»¯a lá»—i káº¿t ná»‘i/quyá»n (Firehose bÃ¡o lá»—i) vÃ  lá»—i ingestion/parsing (OpenSearch khÃ´ng hiá»ƒn thá»‹ dá»¯ liá»‡u).
- **Best Practices**:
    - Chia nhá» váº¥n Ä‘á»: Khi debug, hÃ£y cá»‘ gáº¯ng giáº£i quyáº¿t tá»«ng lá»›p lá»—i má»™t (vÃ­ dá»¥: network -> IAM -> FGAC -> data format/indexing).
    - Kiá»ƒm tra CloudWatch metrics cá»§a cáº£ nguá»“n vÃ  Ä‘Ã­ch: Äá»ƒ cÃ³ cÃ¡i nhÃ¬n toÃ n diá»‡n vá» luá»“ng dá»¯ liá»‡u vÃ  xÃ¡c Ä‘á»‹nh nÆ¡i giÃ¡n Ä‘oáº¡n.
- **Industry Knowledge**: Quy trÃ¬nh chuáº©n trong viá»‡c xá»­ lÃ½ sá»± cá»‘ trong cÃ¡c há»‡ thá»‘ng phÃ¢n tÃ¡n, nÆ¡i cÃ¡c lá»—i cÃ³ thá»ƒ "áº©n mÃ¬nh" á»Ÿ nhiá»u táº§ng khÃ¡c nhau.

### ğŸ¤ Soft Skills

- **Problem Solving**: ÄÃ£ xÃ¡c Ä‘á»‹nh vÃ  giáº£i quyáº¿t thÃ nh cÃ´ng má»™t lá»›p váº¥n Ä‘á» (FGAC), thu háº¹p pháº¡m vi tÃ¬m kiáº¿m nguyÃªn nhÃ¢n.
- **Learning**: TÃ­ch cá»±c tÃ¬m kiáº¿m thÃ´ng tin vá» lÃ½ do táº¡i sao Firehose khÃ´ng bÃ¡o lá»—i nhÆ°ng dá»¯ liá»‡u váº«n chÆ°a Ä‘áº¿n Ä‘Ã­ch.
- **Resilience**: Duy trÃ¬ sá»± kiÃªn nháº«n khi váº¥n Ä‘á» váº«n cÃ²n sau khi Ã¡p dá»¥ng má»™t giáº£i phÃ¡p

## ğŸš§ KhÃ³ khÄƒn vÃ  giáº£i phÃ¡p

### Váº¥n Ä‘á» 1: **OpenSearch khÃ´ng nháº­n Ä‘Æ°á»£c log tá»« Firehose gá»­i Ä‘áº¿n**

- **MÃ´ táº£**: Sau khi táº¡o Firehose Stream vÃ  tháº¥y dá»¯ liá»‡u backup thÃ nh cÃ´ng vÃ o S3, nhÆ°ng OpenSearch Dashboard váº«n khÃ´ng hiá»ƒn thá»‹ dá»¯ liá»‡u má»›i. Ban Ä‘áº§u, Firehose CloudWatch metrics bÃ¡o lá»—i á»Ÿ Ä‘Ã­ch Ä‘áº¿n.
- **Impact**: ToÃ n bá»™ luá»“ng dá»¯ liá»‡u log bá»‹ giÃ¡n Ä‘oáº¡n, khÃ´ng thá»ƒ kiá»ƒm tra hoáº·c phÃ¢n tÃ­ch dá»¯ liá»‡u.
- **Root Cause**: ÄÃ£ phÃ¡t hiá»‡n vÃ  kháº¯c phá»¥c Ä‘Æ°á»£c nguyÃªn nhÃ¢n Ä‘áº§u tiÃªn lÃ  thiáº¿u mapping cho IAM Role cá»§a Firehose trong Fine-grained access control (FGAC) cá»§a OpenSearch Dashboard.
- **Solution**: ÄÃ£ Ä‘Äƒng nháº­p vÃ o OpenSearch Dashboard qua Bastion vÃ  thá»±c hiá»‡n mapping quyá»n cáº§n thiáº¿t cho IAM Role cá»§a Firehose
- **Result**: Sau khi mapping quyá»n, Firehose CloudWatch metrics Ä‘Ã£ háº¿t bÃ¡o lá»—i á»Ÿ Ä‘Ã­ch Ä‘áº¿n. Tuy nhiÃªn, OpenSearch váº«n khÃ´ng nháº­n Ä‘Æ°á»£c dá»¯ liá»‡u thá»±c táº¿. Äiá»u nÃ y chá»‰ ra ráº±ng váº¥n Ä‘á» Ä‘Ã£ chuyá»ƒn tá»« lá»—i quyá»n truy cáº­p máº¡ng/service sang má»™t váº¥n Ä‘á» khÃ¡c liÃªn quan Ä‘áº¿n cÃ¡ch OpenSearch xá»­ lÃ½ dá»¯ liá»‡u Ä‘Æ°á»£c gá»­i Ä‘áº¿n (vÃ­ dá»¥: Ä‘á»‹nh dáº¡ng dá»¯ liá»‡u, Index Template, mapping).
- **Lesson**: Viá»‡c giáº£i quyáº¿t má»™t lá»—i khÃ´ng Ä‘á»“ng nghÄ©a vá»›i viá»‡c toÃ n bá»™ há»‡ thá»‘ng sáº½ hoáº¡t Ä‘á»™ng trÆ¡n tru. Cáº§n tiáº¿p tá»¥c debug vÃ  tÃ¬m kiáº¿m nguyÃªn nhÃ¢n á»Ÿ cÃ¡c lá»›p sÃ¢u hÆ¡n khi má»™t lá»—i Ä‘Æ°á»£c kháº¯c phá»¥c mÃ  váº¥n Ä‘á» tá»•ng thá»ƒ váº«n cÃ²n

## ğŸ’­ Reflection & Insights

### What went well today?

- Kháº¯c phá»¥c Ä‘Æ°á»£c lá»—i "Destination delivery errors" trong Firehose, Ä‘iá»u nÃ y cho tháº¥y quyá»n truy cáº­p cáº¥p cao Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p Ä‘Ãºng.
- Há»c Ä‘Æ°á»£c cÃ¡ch cáº¥u hÃ¬nh Role mapping trong OpenSearch FGAC, má»™t kiáº¿n thá»©c quan trá»ng khi tÃ­ch há»£p cÃ¡c dá»‹ch vá»¥ AWS.
- KiÃªn trÃ¬ trong viá»‡c debugging vÃ  khÃ´ng bá» cuá»™c khi tháº¥y váº¥n Ä‘á» váº«n cÃ²n.

### What could be improved?

- TÃ¬m hiá»ƒu ká»¹ hÆ¡n vá» cÃ¡c yÃªu cáº§u Ä‘á»‹nh dáº¡ng dá»¯ liá»‡u vÃ  Index Templates cá»§a OpenSearch trÆ°á»›c khi gá»­i dá»¯ liá»‡u, Ä‘á»ƒ trÃ¡nh phÃ¡t sinh váº¥n Ä‘á» nÃ y.
- Äá»c log chi tiáº¿t hÆ¡n tá»« phÃ­a OpenSearch ngay khi Firehose háº¿t lá»—i, thay vÃ¬ chá»‰ kiá»ƒm tra Dashboard.

### Key Insights

- FGAC lÃ  lá»›p báº£o máº­t quan trá»ng cá»§a OpenSearch: NÃ³ kiá»ƒm soÃ¡t quyá»n truy cáº­p dá»¯ liá»‡u bÃªn trong domain, vÃ  cáº§n Ä‘Æ°á»£c cáº¥u hÃ¬nh Ä‘Ãºng cho cÃ¡c dá»‹ch vá»¥ gá»­i dá»¯ liá»‡u.
- CÃ¡c lá»—i cÃ³ thá»ƒ lÃ  "chuá»—i": Giáº£i quyáº¿t má»™t lá»—i cÃ³ thá»ƒ dáº«n Ä‘áº¿n viá»‡c phÃ¡t hiá»‡n lá»—i khÃ¡c á»Ÿ táº§ng sÃ¢u hÆ¡n.
- Äá»‹nh dáº¡ng dá»¯ liá»‡u ráº¥t quan trá»ng: Ngay cáº£ khi quyá»n Ä‘Ã£ Ä‘á»§, dá»¯ liá»‡u khÃ´ng Ä‘Ãºng Ä‘á»‹nh dáº¡ng váº«n sáº½ bá»‹ OpenSearch tá»« chá»‘i.

### Questions & Curiosities

- LÃ m tháº¿ nÃ o Ä‘á»ƒ xem log ná»™i bá»™ cá»§a OpenSearch Service (vÃ­ dá»¥: log vá» lá»—i parsing, mapping) Ä‘á»ƒ biáº¿t chÃ­nh xÃ¡c lÃ½ do nÃ³ khÃ´ng ingest dá»¯ liá»‡u?
- Cáº¥u hÃ¬nh Index Template trong Firehose cÃ³ thá»±c sá»± cáº§n thiáº¿t, hay cÃ³ thá»ƒ táº¡o Template trá»±c tiáº¿p trong OpenSearch Dashboard?
- CÃ³ cÃ´ng cá»¥ hoáº·c cÃ¡ch nÃ o Ä‘á»ƒ validate Ä‘á»‹nh dáº¡ng dá»¯ liá»‡u JSON trÆ°á»›c khi gá»­i vÃ o Firehose Ä‘á»ƒ Ä‘áº£m báº£o nÃ³ tÆ°Æ¡ng thÃ­ch vá»›i OpenSearch khÃ´ng?

## ğŸ“‹ Káº¿ hoáº¡ch ngÃ y mai

### Priority Tasks

- [ ]  **High**: TÃ¬m hiá»ƒu cÃ¡c nguyÃªn nhÃ¢n khÃ¡c khiáº¿n dá»¯ liá»‡u khÃ´ng Ä‘áº¿n Ä‘Æ°á»£c Ä‘Ã­ch
- [ ]  **High:** TÃ¬m cÃ¡ch kháº¯c phá»¥c váº¥n Ä‘á»

### Learning Goals

- [ ]  Náº¯m vá»¯ng cÃ¡ch Ä‘á»c log tá»« OpenSearch Service qua CloudWatch Logs.
- [ ]  Hiá»ƒu rÃµ vá» OpenSearch Index Templates vÃ  Data Mappings.
- [ ]  TÃ¬m hiá»ƒu cÃ¡ch debug cÃ¡c váº¥n Ä‘á» vá» Ä‘á»‹nh dáº¡ng dá»¯ liá»‡u trong OpenSearch.

### Meetings & Deadlines

- [ ]  HoÃ n thÃ nh project trÆ°á»›c ngÃ y 20/07

## ğŸ“Š Self Assessment

### Productivity

- **Score**: [6/10]
- **Reason**: ÄÃ£ giáº£i quyáº¿t Ä‘Æ°á»£c má»™t váº¥n Ä‘á» quan trá»ng (lá»—i Firehose), nhÆ°ng váº«n chÆ°a Ä‘áº¡t Ä‘Æ°á»£c má»¥c tiÃªu cuá»‘i cÃ¹ng lÃ  dá»¯ liá»‡u Ä‘áº¿n OpenSearch
- **Improvement**: Cáº§n táº­p trung hÆ¡n vÃ o viá»‡c Ä‘á»c log vÃ  tÃ¬m hiá»ƒu sÃ¢u vá» yÃªu cáº§u cá»§a OpenSearch

### Learning

- **Score**: [8/10]
- **New Knowledge**: Hiá»ƒu sÃ¢u hÆ¡n vá» FGAC vÃ  cÃ¡c lá»›p lá»—i trong pipeline dá»¯ liá»‡u
- **Application**: Váº­n dá»¥ng ká»¹ nÄƒng debugging vÃ o má»™t tÃ¬nh huá»‘ng thá»±c táº¿, phá»©c táº¡p

### Collaboration

- **Score**: [7/10]
- **Interactions**: ÄÃ£ chuáº©n bá»‹ sáºµn sÃ ng cÃ¡c chi tiáº¿t váº¥n Ä‘á» Ä‘á»ƒ tháº£o luáº­n vá»›i mentor vÃ o ngÃ y mai
- **Contributions**: ÄÃ£ loáº¡i trá»« Ä‘Æ°á»£c má»™t nguyÃªn nhÃ¢n lá»—i, thu háº¹p pháº¡m vi tÃ¬m kiáº¿m

### Overall Satisfaction

- **Score**: [6/10]
- **Highlights**: ÄÃ£ vÆ°á»£t qua Ä‘Æ°á»£c má»™t lá»—i phá»©c táº¡p vÃ  cÃ³ cÃ¡i nhÃ¬n rÃµ rÃ ng hÆ¡n vá» bÆ°á»›c tiáº¿p theo
- **Areas for Growth**: Cáº§n cáº£i thiá»‡n ká»¹ nÄƒng giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» liÃªn quan Ä‘áº¿n Ä‘á»‹nh dáº¡ng dá»¯ liá»‡u vÃ  cáº¥u hÃ¬nh service-level cá»§a OpenSearch

---

**ğŸ“ Notes for tomorrow:**
[Ghi chÃº quan trá»ng cho ngÃ y mai]

**ğŸ¯ Week Progress:** Day 5/5 completed.

---

*Worklog created by: TrÆ°Æ¡ng ÄÃ¬nh VÅ© Khanh*

*Next review: 21/07/2025*