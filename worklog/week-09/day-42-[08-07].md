# Worklog - Ngày 08/07/2025

## 📅 Thông tin cơ bản

- **Ngày**: 08/07/2025
- **Thứ**: Thứ Ba
- **Tuần thực tập**: Tuần thứ 9
- **Thời gian làm việc**: 13:00 - 17:00
- **Mood**: 😊

## 🎯 Mục tiêu ngày hôm nay

- [x]  Mục tiêu 1: Lên kế hoạch thử nghiệm và triển khai ban đầu
- [x]  Mục tiêu 2: Triển khai thử các dịch vụ đã tìm hiểu

## 💼 Công việc đã thực hiện

### 1. Lên kế hoạch thử nghiệm và triển khai ban đầu ⏱️ 13:00 - 14:00

- **Mô tả**:
    - Từ sơ đồ ban đầu chọn ra các dịch vụ chính để test trước, học cách sử dụng
    - Ưu tiên tối ưu chi phí cho giai đoạn test
- **Kết quả**:
    - Lên kế hoạch triển khai thử nghiệm với flow sau:
        
        ```bash
        Internet Gateway → Bastion → VPC Flow Logs → Kinesis → S3 → Athena
        											|-------> OpenSearch <----|
        																		|
        																	CloudWatch → Lambda → SNS
        ```
        
    - Chỉ dùng một AZ, tạm thời chưa deloy app EC2 và không sử dụng NAT Gateway để giảm chi phí khi test
- **Tools/Tech**: ChatGPT, draw.io
- **Links**:
    - [Notion](https://www.notion.so/Workshop-223c3d0326c8809e8078e153862ef46d?pvs=21)
    

### 2. Triển khai thử các dịch vụ đã tìm hiểu ⏱️ 14:00 - 17:00

- **Mô tả**:
    - Triển khai thành công 6/9 services
- **Kết quả**:
    - Đã triển khai được Bastion, VPC Flow Logs, Kinesis, OpenSearch, S3, Athena
- **Tools/Tech**:
    - AWS Console, EC2, IAM, VPC, CloudWatch, OpenSearch, Kinesis, S3, Athena
- **Links**:
    - 

## 📚 Kiến thức học được

### 🔧 Technical Skills

- **AWS Services**:
    - Cấu hình VPC Flow Logs để đẩy log về Kinesis
    - Tạo OpenSearch domain và kết nối với Kinesis
    - Truy vấn log trên S3 bằng Athena
    - Cấu hình Bastion Host để SSH và giám sát
- **Programming**: Không lập trình nhiều hôm nay, chủ yếu thao tác với AWS
- **DevOps**:
    - Cách thiết lập quy trình giám sát log mạng
    - Áp dụng nguyên tắc least privilege khi gán role
- **Architecture**: Thiết kế hệ thống giám sát mạng trên môi trường AWS, tập trung vào phân luồng dữ liệu

### 💡 Concepts & Theory

- **New Concepts**:
    - VPC Flow Logs lifecycle
    - Firehose delivery stream to OpenSearch
    - Cách dùng Athena để query dữ liệu log trên S3
- **Best Practices**:
    - Tránh dùng NAT Gateway khi không cần thiết để tiết kiệm chi phí
    - Gán role đúng scope để tránh expose quyền không cần thiết

### 🤝 Soft Skills

- **Communication**: Ghi chú kỹ lưỡng các bước thực hiện để dễ trình bày lại với mentor
- **Problem Solving**: Xử lý lỗi quyền truy cập OpenSearch và hiểu nguyên nhân gốc
- **Time Management**: Phân chia thời gian hợp lý giữa việc lên kế hoạch và triển khai thực tế
- **Learning**: Biết cách kiểm chứng thông tin và điều chỉnh khi hướng dẫn bị outdated

## 🚧 Khó khăn và giải pháp

### Vấn đề 1: Vấn đề về quyền khi truy cập OpenSearch Dasboard từ Bastion Host

- **Mô tả**: Bastion Host không có quyền truy cập vào OpenSearch Dasboard
- **Impact**: Không thể truy cập vào OpenSearch Dasboard
- **Root Cause**: Chưa gán Role có quyền tương ứng cho Bastion Host
- **Solution**: Gán Role có quyền truy cập OpenSearch Dasboard cho Bastion Host
- **Result**: Truy cập thành công OpenSearch Dasboard từ Bastion Host
- **Lesson**: Luôn chú ý gán Role với các quyền cần thiết cho các instance

### Vấn đề 2: Dữ liệu hướng dẫn từ ChatGPT bị outdated

- **Mô tả**: ChatGPT hướng dẫn có một số bước không giống như thực tế khi triển khai
- **Impact**: Khó khăn trong việc triển khai các services AWS đã update
- **Root Cause**: AWS update thường xuyên các services dẫn đến dữ liệu từ ChatGPT bị outdated
- **Solution**: Chụp ảnh màn hình, mô tả các phần không có trong hướng dẫn nhờ ChatGPT giải thích
- **Result**: Triển khai thành công các dịch vụ như mong muốn
- **Lesson**: Luôn cẩn thận khi sử dụng dữ liệu từ Chat AI vì có thể sai hoặc outdated

## 💭 Reflection & Insights

### What went well today?

- Đã lên được flow thử nghiệm phù hợp và rõ ràng
- Triển khai thành công 6 services quan trọng
- Giải quyết nhanh các lỗi liên quan đến quyền truy cập

### What could be improved?

- Cần test kỹ hơn pipeline dữ liệu (Kinesis → OpenSearch → Dashboard)
- Nên tạo dashboard sớm để kiểm tra dữ liệu có được ghi nhận hay chưa

### Key Insights

- Việc giám sát mạng bằng AWS hoàn toàn khả thi trong quy mô nhỏ nếu tối ưu chi phí
- Giao diện AWS thường xuyên thay đổi, nên phải luyện kỹ khả năng tự tìm tòi khi hướng dẫn không khớp
- Việc phân tách theo flow sẽ giúp triển khai có định hướng rõ ràng, tránh lãng phí thời gian

### Questions & Curiosities

- Làm sao để tạo rule alert trong CloudWatch cho các loại log cụ thể từ VPC Flow Logs?
- Có thể sử dụng Lambda để xử lý log real-time thay vì OpenSearch không?
- Tìm hiểu thêm về chi phí khi bật full logging trên VPC và lượng dữ liệu đẩy về Kinesis

## 📋 Kế hoạch ngày mai

### Priority Tasks

- [ ]  **High**: Làm lại các bước triển khai và chụp màn hình, viết hướng dẫn chi tiết
- [ ]  **Low**: Bắt đầu thử nghiệm tích hợp Lambda để xử lý log

### Learning Goals

- [ ]  Tìm hiểu cách tạo CloudWatch Metric Filter
- [ ]  Xem tài liệu về cảnh báo tự động và gửi về SNS
- [ ]  Follow tutorial về Kinesis + Lambda

### Meetings & Deadlines

- [ ]  Hoàn thành projecty trước 15/07 và workshop trước 20/7

## 📊 Self Assessment

### Productivity

- **Score**: 8/10
- **Reason**: Triển khai được phần lớn các thành phần của hệ thống thử nghiệm
- **Improvement**: Tối ưu hơn về thời gian kiểm thử và ghi log lại các kết quả trung gian

### Learning

- **Score**: 9/10
- **New Knowledge**: Cách sử dụng VPC Flow Logs, Kinesis, OpenSearch, Athena phối hợp với nhau
- **Application**: Có thể áp dụng trực tiếp vào bài lab hoặc dự án thực tế trên AWS

### Collaboration

- **Score**: 7/10
- **Interactions**: Chủ yếu làm việc độc lập, có tham khảo ChatGPT
- **Contributions**: Ghi chú kỹ thuật, mô tả sơ đồ rõ ràng có thể chia sẻ lại cho nhóm

### Overall Satisfaction

- **Score**: 8.5/10
- **Highlights**: Hoàn thành gần như trọn vẹn kế hoạch ngày, giải quyết được lỗi quyền truy cập
- **Areas for Growth**: Cần thực hành kỹ hơn về phần alerting và automation

## 📎 Attachments & Links

### Screenshots & Demos

![Diagram.drawio.png](attachment:81bd0858-dce7-4010-b5f4-22c37802e3b4:Diagram.drawio.png)

---

**📝 Notes for tomorrow:**

- Đẩy nhanh tiến độ để kịp deadline

**🎯 Week Progress:** Day 2/5 completed.

---

*Worklog created by: Trương Đình Vũ Khanh*

*Next review: 09/07/2025*